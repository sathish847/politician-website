<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title data-translate="galleryPageTitle">கே.எஸ்.மூர்த்தி | கேலரி</title>
    <link rel="icon" type="image/x-icon" href="images/logos/footer1.png" />
    <!--[if lt IE 9]>
		<script src="js/html5. js" type="text/javascript"></script>
	<![endif]-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.3.1" type="text/css" media="all" />
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Rufina:100,100italic,300,300italic,400,400italic,700,700italic&#038;subset=latin,latin-ext,cyrillic,cyrillic-ext" type="text/css" media="all" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Sintony:100,100italic,300,300italic,400,400italic,700,700italic&#038;subset=latin,latin-ext,cyrillic,cyrillic-ext" type="text/css" media="all" />

	<link rel="stylesheet" href="css/fontello/css/fontello.css" type="text/css" media="all" />
    <link rel="stylesheet" href="css/fontello/css/animation.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/fontello/css/fontello-admin.min.css" type="text/css" media="all" />

	<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/shortcodes.css" type="text/css" media="all" />

    <link rel="stylesheet" href="css/color-picker.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="css/theme-options.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="css/theme-options-datepicker.min.css" type="text/css" media="all" />

	<link rel="stylesheet" href="js/custom_menu/custom_menu.css" type="text/css" media="all" />

    <link rel="stylesheet" href="js/magnific-popup/magnific-popup.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="js/swiper/idangerous.swiper.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="js/swiper/idangerous.swiper.scrollbar.min.css" type="text/css" media="all" />

    <link rel="stylesheet" href="js/messages/_messages.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="css/ihover.min.css" type="text/css" media="all" />

	<link rel="stylesheet" href="js/rs-plugin/settings.css" type="text/css" media="all" />
	<link rel="stylesheet" href="js/prettyphoto/css/prettyPhoto.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="js/royalslider/royalslider.css" type="text/css" media="all" />

	<link rel="stylesheet" href="css/skins/politics.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/slider-style.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/custom-styles.css" type="text/css" media="all" />

	<link rel="stylesheet" href="css/responsive.css" type="text/css" media="all" />
	<link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
	<!-- Translation Toggle CSS -->
	<link rel="stylesheet" href="css/translation-toggle.css" type="text/css" media="all" />
	<!-- Fix for CORS issues with external images -->
	<meta http-equiv="Content-Security-Policy" content="img-src * data:;">
	<style id="theme-skin-inline-css" type="text/css"></style>
	<style id="theme-skin-inline-css" type="text/css">
		/* Fix navbar logo positioning on scroll */
		header.fixedTopMenu .logo a span[style*="margin-top: 17px"] {
			margin-top: 5px !important;
		}
	</style>
	<style>
		/* Line-by-line reveal animation */
		.reveal-line {
			opacity: 0;
			transform: translateY(20px);
			transition: all 0.6s ease-out;
		}

		.reveal-line.revealed {
			opacity: 1;
			transform: translateY(0);
		}

		.reveal-line:nth-child(1).revealed {
			transition-delay: 0.1s;
		}

		.reveal-line:nth-child(2).revealed {
			transition-delay: 0.3s;
		}

		/* About Us image positioning */
		.about-image {
			margin-top: -70px; /* Move image up on desktop */
		}

		@media (max-width: 768px) {
			.about-image img {
				height: 350px !important; /* Increase height on mobile */
			}
			.about-image {
				margin-top: 0; /* Reset margin on mobile */
			}
		}

		/* Modern button hover animations with arrows */
		.theme_button {
			position: relative;
			overflow: hidden;
			transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			border-radius: 25px !important;
			padding: 14px 28px !important;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			box-shadow: 0 4px 15px rgba(0,0,0,0.1);
			background-color: #E83737 !important;
			color: #ffffff !important;
			border: none !important;
		}

		/* Gallery content spacing below navbar */
		.gallery-content-spacing {
			margin-top: 100px; /* Add space below the fixed navbar */
		}

		.theme_button::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background-color: #000000;
			transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			z-index: -1;
		}

		.theme_button:hover::before {
			left: 0;
		}

		.theme_button:hover {
			box-shadow: 0 8px 25px rgba(0,0,0,0.15);
		}

		.theme_button:active {
			transform: scale(1.02);
			box-shadow: 0 4px 15px rgba(0,0,0,0.2);
		}

		/* Increase navbar height when fixed on scroll */
		header.fixedTopMenu .topWrap {
			min-height: 30px !important;
			padding: 15px 0 !important;
		}

		header.fixedTopMenu .mainmenu_area .main {
			padding: 10px 0 !important;
		}

		/* Adjust translation toggle position when navbar is fixed */
		header.fixedTopMenu + .main_content + .upToScroll + .customHtmlSection + .translation-toggle-container,
		.translation-toggle-container {
			top: 100px;
		}

		header.fixedTopMenu ~ .translation-toggle-container {
			top: 120px !important;
		}

		/* Debug: Make gallery items visible */
		.isotopeElement {
			display: block !important;
			visibility: visible !important;
			opacity: 1 !important;
		}

		.portfolio {
			display: flex !important;
			flex-wrap: wrap !important;
		}

		.folio3col .isotopeElement {
			width: calc(33.333% - 20px) !important;
			margin-bottom: 20px !important;
		}

		@media (max-width: 768px) {
			.folio3col .isotopeElement {
				width: calc(50% - 10px) !important;
			}
		}

		@media (max-width: 480px) {
			.folio3col .isotopeElement {
				width: 100% !important;
			}
		}
	</style>

</head>
<body class="home page fullscreen top_panel_above">
    <a id="toc_home" class="sc_anchor" title="Home" data-description="<i>Return to Home</i> - <br>navigate to home page of the site" data-icon="icon-home" data-url="index.html" data-separator="yes"></a>
    <a id="toc_top" class="sc_anchor" title="To Top" data-description="<i>Back to top</i> - <br>scroll to top of the page" data-icon="icon-up" data-url="" data-separator="yes"></a>
    <!--[if lt IE 9]>
		<div class="sc_infobox sc_infobox_style_error">
			<div class="text-center">It looks like you're using an old version of Internet Explorer. For the best experience, please <a class="sc_infobox_custom_style_1" href="http://microsoft.com">update your browser</a> or learn how to <a class="sc_infobox_custom_style_2 href="http://browsehappy.com">browse happy</a>!</div>
		</div>
	<![endif]-->
	<!-- Main Content -->
    <div class="main_content">
        <div class="boxedWrap">
            <div class="fullScreenSlider">
				<header class="noFixMenu menu_right with_user_menu">
                <div class="topWrapFixed"></div>
                <div class="topWrap">
					<!-- User menu -->
                    <div class="usermenu_area">
                        <div class="main">
                            <!--<div class="menuUsItem menuItemRight">
                                <ul id="usermenu" class="usermenu_list">
                                    <li class="usermenu_cart">
                                        <a href="#" class="cart_button">
											<span>Cart</span>
											<b class="cart_total"><span class="amount">&pound;0.00</span></b>
										</a>
                                        <ul class="widget_area sidebar_cart sidebar">
                                            <li>
                                                <aside class="widgetWrap widget woocommerce widget_shopping_cart">
                                                    <div class="hide_cart_widget_if_empty">
                                                        <div class="widget_shopping_cart_content">
															<ul class="cart_list product_list_widget ">
																<li class="empty">No products in the cart.</li>
															</ul>
														</div>
                                                    </div>
                                                </aside>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="usermenu_controlPanel">
                                        <a href="#"><span>John Doe</span></a>
                                        <ul>
                                            <li><a href="#" class="icon icon-doc-inv">New post</a></li>
                                            <li><a href="#" class="icon icon-cog-1">Settings</a></li>
                                            <li><a href="#" class="icon icon-logout">Log out</a></li>
                                        </ul>
                                    </li>
                                    <li class="usermenu_sound">
                                        <a href="#" class="icon-volume" title="Sounds on/off"></a>
                                        <ul>
                                            <li><a href="#" class="sound_mainmenu icon icon-check">Main Menu</a></li>
                                            <li><a href="#" class="sound_othermenu icon icon-check">Other Menus</a></li>
                                            <li><a href="#" class="sound_buttons icon icon-check">Buttons</a></li>
                                            <li><a href="#" class="sound_links icon icon-check">Regular links</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>-->
                            <div class="menuUsItem menuItemLeft"><span data-translate="headerContact">தொடர்பு கொள்க on 0800 123 4567 அல்லது</span> <a href="#">support@themerex.net</a></div>
                        </div>
                    </div>
					<!-- /User menu -->
						<!-- Main menu -->
						<div class="mainmenu_area">
							<div class="main">
								<div class="logo logo_left">
									<a href="index.html">
										<span style="display: block; margin-top: 17px; font-size: 70%;" data-translate="politicianName">கே.எஸ்.மூர்த்தி</span>
										<!--<span class="logo_slogan">Experience. Commitment. Impact.</span>-->
									</a>
								</div>
								<!-- Responsive menu as icon -->
								<a href="#" class="openResponsiveMenu icon-menu" title="Menu"></a>

								<!-- Menu area -->
								<nav class="menuTopWrap topMenuStyleLine">
									<ul id="mainmenu">
										<!-- Homepage layouts -->
										<li class="menu-item thumb_title custom_view_item">
											<a title="முகப்பு" href="index.html">
												<span class="menu_icon icon-home"></span><span data-translate="navHome">முகப்பு</span>
											</a>
										</li>
										<li class="menu-item thumb_title custom_view_item">
											<a title="அறிமுகம்" href="about-us.html">
												<span class="menu_icon icon-user"></span><span data-translate="navAbout">அறிமுகம்</span>
											</a>
										</li>
										<li class="menu-item thumb_title custom_view_item">
											<a title="சாதனைகள்" href="achievements.html">
												<span class="menu_icon icon-trophy"></span><span data-translate="navAchievements">சாதனைகள்</span>
											</a>
										</li>
											<!--	<li class="menu-item thumb_title custom_view_item">
											<a title="செய்திகள்" href="news.html">
												<span class="menu_icon icon-doc"></span><span data-translate="navNews">செய்திகள்</span>
											</a>
										</li>  -->
										<li class="menu-item thumb_title custom_view_item">
											<a title="மனக்குறை" href="district-secretary.html">
												<span class="menu_icon icon-users"></span><span data-translate="navGrievance">மனக்குறை</span>
											</a>
										</li>

                                        <li class="menu-item menu-item-has-children">
											<a title="கேலரி" href="#">
												<span class="menu_icon icon-camera"></span><span data-translate="navGallery">கேலரி</span>
											</a>
											<ul class="sub-menu">

												<li class="menu-item">
													<a href="videos.html" data-translate="navVideos">வீடியோக்கள்</a>
												</li>
												<li class="menu-item">
													<a href="gallery.html" data-translate="navPhotos">புகைப்படத் தொகுப்பு</a>
												</li>

											</ul>
										</li>
										<li class="menu-item thumb_title custom_view_item">
											<a title="தொடர்பு கொள்க" href="contact-us.html">
												<span class="menu_icon icon-phone"></span><span data-translate="navContact">தொடர்பு கொள்க</span>
											</a>
										</li>
									</ul>
								</nav>
								<!-- /Menu area -->
							</div>
						</div>
						<!-- /Main menu -->
					</div>
            </header>
			<!-- Page title 
            <div id="topOfPage" class="topTabsWrap">
                <div class="main">
                    <div class="speedBar">
                        <a class="home" href="index.html" data-translate="breadcrumbHome">முகப்பு</a>
						<span class="breadcrumbs_delimiter"> / </span>
						<span class="current" data-translate="breadcrumbCurrent">கேலரி</span>
					</div>
                    <h3 class="pageTitle h3" data-translate="galleryTitle">கேலரி</h3>
                </div>
            </div>
			 Page title -->



			<!-- Gallery Content -->
			<div class="mainWrap without_sidebar gallery-content-spacing">
				<div class="main">
					<div class="content">
						<div class="portfolioWrap">
							<!--<div id="grid-3-columns" class="isotopeFiltr"></div>-->
							<section class="portfolio isotope folio3col" data-columns="3" id="galleryContainer">
								<!-- Gallery items will be loaded dynamically -->
							</section>
						</div>
					</div>
				</div>
			</div>
			<!-- /Gallery Content -->

			<!-- Footer -->
            <div class="footerContentWrap">
				<!-- Footer Widgets -->
                <!-- Footer -->
            <div class="footerContentWrap">
                <footer class="footerWrap footerStyleDark">
					<!-- Footer widget area -->
                    <div class="main footerWidget widget_area">
                        <div class="columnsWrap">
							<!-- Widget advert -->
                            <aside class="columns1_4 widgetWrap widget widget_advert">
                                <div class="widget_advert_inner">
                                    <figure class="sc_image sc_image_shape_square width_150">
										<img src="images/logos/Dravida_Munnetra_Kazhagam_logo.png" alt="" />
									</figure>
                                    <br />
                                    <img alt="" src="http://placehold.it/550x367">
                    <br />  <span class="sc_icon icon-home theme_accent"></span>
                    <span data-translate="footerAddress">Namakkal West District DMK Party Office: Located near RVR Petrol Bunk Corner, Malai Suttri Road, Namakkal Rd, Tiruchengode - Salem Main Rd, Namakkal, Tamil Nadu 637205.</span>
                    
                                    <br /> <span class="sc_icon icon-email theme_accent"></span> namakkalwestdmkksm@gmail.com
                                    <br /> <span class="sc_icon icon-phone theme_accent"></span> +1 (44) 123-45-67
								</div>
                            </aside>
							<!-- /Widget advert -->
							<!-- Quick Links -->
                            <aside class="columns1_4 widgetWrap widget widget_nav_menu">
                                <h3 class="title" data-translate="footerQuickLinks">விரைவு இணைப்புகள்</h3>
                                <ul class="menu">
                                    <li><a href="index.html" data-translate="navHome">முகப்பு</a></li>
                                    <li><a href="about-us.html" data-translate="navAbout">அறிமுகம்</a></li>
                                    <li><a href="achievements.html" data-translate="navAchievements">சாதனைகள்</a></li>
									<!--<li><a href="news.html" data-translate="navNews">செய்திகள்</a></li>-->
                                </ul>
                            </aside>
							<!-- /Quick Links -->
							<!-- Services -->
                            <aside class="columns1_4 widgetWrap widget widget_nav_menu">
                                <h3 class="title" data-translate="footerGallery">கேலரி</h3>
                                <ul class="menu">
                                    <li><a href="videos.html" data-translate="navVideos">வீடியோக்கள்</a></li>
                                    <li><a href="gallery.html" data-translate="navPhotos">புகைப்படத் தொகுப்பு</a></li>

                                </ul>
                            </aside>
							<!-- /Services -->
							<!-- Resources -->
                            <aside class="columns1_4 widgetWrap widget widget_nav_menu">
                                <h3 class="title" data-translate="footerContact">தொடர்பு கொள்க</h3>
                                <ul class="menu">
                                    <li><a href="contact-us.html" data-translate="navContact">தொடர்பு கொள்க</a></li>
                                </ul>
                            </aside>
							<!-- /Resources -->


                        </div>
                    </div>
					<!-- /Footer widget area -->
                </footer>
                <!-- /Footer Widgets -->
				<!-- Copyright area -->
                <div class="copyWrap" style="background-color: #2C2C2C;">
                    <div class="copy main">
                        <div class="copyright">
							<a href="#" data-translate="copyright">பதிப்புரிமை © 2026. அனைத்து உரிமைகளும் பாதுகாக்கப்பட்டவை.</a>

                        </div>
                        <div >
                            <ul style="display: flex; list-style: none; padding: 0; margin: 0; gap: 15px;">
                               <li>
									<a target="_blank" href="https://www.facebook.com/share/1JyUued43z/"><span class="icon-facebook-1" style="font-size: 20px;"></span></a>
								</li>
                               <li>
									<a target="_blank" href="https://www.instagram.com/ksmoorthiymla?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="><span class="icon-instagram" style="font-size: 20px;"></span></a>
								</li>
                                <li>
									<a target="_blank" href="https://www.twitter.com"><span class="icon-twitter-1" style="font-size: 20px;"></span></a>
								</li>
                                <li>
									<a target="_blank" href="https://www.youtube.com"><span class="icon-youtube-play" style="font-size: 20px;"></span></a>
								</li>
                            </ul>
                        </div>
                    </div>
                </div>
				<!-- /Copyright area -->
            </div>
        </div>
    </div>
	<!-- /Main Content -->
    <div class="upToScroll">
        <a href="#" class="addBookmark icon-star-empty" title="Add the current page into bookmarks"></a>
        <a href="#" class="scrollToTop icon-up-open-big" title="Back to top"></a>
    </div>
    <div class="customHtmlSection"></div>

	<script type="text/javascript" src="js/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="js/_packed.js"></script>
	<script type="text/javascript" src="js/global.js"></script>
    <script type="text/javascript" src="js/_utils.js"></script>
    <script type="text/javascript" src="js/_front.js"></script>
	<script type="text/javascript" src="js/shortcodes/shortcodes_init.js"></script>

	<script type="text/javascript" src="js/superfish.min.js"></script>
	<script type="text/javascript" src="js/magnific-popup/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript" src="js/swiper/idangerous.swiper-2.7.min.js"></script>
    <script type="text/javascript" src="js/swiper/idangerous.swiper.scrollbar-2.4.min.js"></script>
    <script type="text/javascript" src="js/flexslider/jquery.flexslider-min.js"></script>
	<script type="text/javascript" src="js/royalslider/jquery.royalslider.min.js"></script>
	<script type="text/javascript" src="js/rs-plugin/jquery.themepunch.tools.min.js"></script>
    <script type="text/javascript" src="js/rs-plugin/jquery.themepunch.revolution.min.js"></script>
	<script type="text/javascript" src="js/slider_init.js"></script>

    <script type="text/javascript" src="js/SmoothScroll.min.js"></script>
    <script type="text/javascript" src="js/hover/jquery.hoverdir.min.js"></script>
    <script type="text/javascript" src="js/hover/hoverIntent.min.js"></script>
    <script type="text/javascript" src="js/messages/_messages.min.js"></script>
    <script type="text/javascript" src="js/diagram/chart.min.js"></script>
    <script type="text/javascript" src="js/diagram/diagram.raphael.min.js"></script>

    <script type="text/javascript" src="js/isotope/isotope.pkgd.min.js"></script>
    <script type="text/javascript" src="js/prettyphoto/jquery.prettyPhoto.min.js"></script>

	<!-- <script type="text/javascript" src="js/_customizer.js"></script> -->
	<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

	<script>
		// Initialize AOS
		AOS.init({
			duration: 800,
			easing: 'ease-in-out',
			once: true
		});



			// Line-by-line reveal animation on scroll
			const revealElements = document.querySelectorAll('.reveal-line');

			function checkReveal() {
				const windowHeight = window.innerHeight;
				const revealPoint = 150;

				revealElements.forEach(function(element) {
					const revealTop = element.getBoundingClientRect().top;

					if (revealTop < windowHeight - revealPoint) {
						element.classList.add('revealed');
					}
				});
			}

			// Check on load
			checkReveal();

			// Check on scroll
			window.addEventListener('scroll', checkReveal);

			// Modern button click effect - black background on touch/click
			const buttons = document.querySelectorAll('.theme_button');

			buttons.forEach(button => {
				button.addEventListener('mousedown', function() {
					this.style.backgroundColor = '#000000';
					this.style.color = '#ffffff';
					this.style.transition = 'all 0.1s ease';
				});

				button.addEventListener('mouseup', function() {
					setTimeout(() => {
						this.style.backgroundColor = '';
						this.style.color = '';
					}, 150);
				});

				button.addEventListener('mouseleave', function() {
					this.style.backgroundColor = '';
					this.style.color = '';
				});

				// Touch events for mobile
				button.addEventListener('touchstart', function() {
					this.style.backgroundColor = '#000000';
					this.style.color = '#ffffff';
					this.style.transition = 'all 0.1s ease';
				});

				button.addEventListener('touchend', function() {
					setTimeout(() => {
						this.style.backgroundColor = '';
						this.style.color = '';
					}, 150);
				});
			});

			// Adjust translation toggle position when navbar becomes fixed
			function adjustTranslationToggle() {
				const header = document.querySelector('header');
				const translationToggle = document.querySelector('.translation-toggle-container');

				if (header && translationToggle) {
					if (header.classList.contains('fixedTopMenu')) {
						translationToggle.style.top = '120px';
					} else {
						translationToggle.style.top = '100px';
					}
				}
			}

			// Check on scroll and DOM changes
			window.addEventListener('scroll', adjustTranslationToggle);

			// Use MutationObserver to watch for class changes on header
			const observer = new MutationObserver(function(mutations) {
				mutations.forEach(function(mutation) {
					if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
						adjustTranslationToggle();
					}
				});
			});

			// Start observing when DOM is ready
			document.addEventListener('DOMContentLoaded', function() {
				const header = document.querySelector('header');
				if (header) {
					observer.observe(header, {
						attributes: true,
						attributeFilter: ['class']
					});
				}
				// Initial check
				setTimeout(adjustTranslationToggle, 100);
			});
	</script>

	<!-- Translation Toggle Script -->
	<script type="text/javascript" src="js/translation-toggle.js"></script>

	<!-- Dynamic Gallery Script -->
	<script>
		class DynamicGallery {
			constructor() {
				this.galleryContainer = document.getElementById('galleryContainer');
				this.apiUrl = 'https://k-s-moorthy-backend-hty8.vercel.app/api/gallery';
				this.currentLanguage = localStorage.getItem('preferredLanguage') || 'tamil'; // Check saved preference
				this.galleryData = [];

				this.init();
			}

			init() {
				this.loadGalleryData();
				this.setupLanguageChangeListener();
			}

			async loadGalleryData() {
				try {
					this.showLoading();
					console.log('Fetching gallery data from:', this.apiUrl);
					const response = await fetch(this.apiUrl);

					if (!response.ok) {
						throw new Error(`HTTP error! status: ${response.status}`);
					}

					const data = await response.json();
					console.log('Gallery data received:', data);
					this.galleryData = data.gallery || [];
					console.log('Gallery items:', this.galleryData.length);
					this.renderGallery();
				} catch (error) {
					console.error('Error loading gallery data:', error);
					this.showError('Failed to load gallery. Please check console for details.');
				}
			}

			showLoading() {
				const loadingText = window.TranslationToggle?.translations?.galleryLoading?.[this.currentLanguage] || 'Loading gallery...';
				this.galleryContainer.innerHTML = `
					<div class="loading-container" style="text-align: center; padding: 50px; grid-column: 1 / -1;">
						<div style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #E83737; border-radius: 50%; animation: spin 1s linear infinite;"></div>
						<p style="margin-top: 20px; color: #666;">${loadingText}</p>
					</div>
					<style>
						@keyframes spin {
							0% { transform: rotate(0deg); }
							100% { transform: rotate(360deg); }
						}
					</style>
				`;
			}

			showError(message) {
				const retryText = window.TranslationToggle?.translations?.galleryRetry?.[this.currentLanguage] || 'Retry';
				this.galleryContainer.innerHTML = `
					<div class="error-container" style="text-align: center; padding: 50px; grid-column: 1 / -1;">
						<p style="color: #E83737; font-size: 16px;">${message}</p>
						<button onclick="window.location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #E83737; color: white; border: none; border-radius: 5px; cursor: pointer;">${retryText}</button>
					</div>
				`;
			}

			renderGallery() {
				if (!this.galleryData.length) {
					const emptyText = window.TranslationToggle?.translations?.galleryEmpty?.[this.currentLanguage] || 'No gallery items available.';
					this.galleryContainer.innerHTML = `
						<div class="empty-container" style="text-align: center; padding: 50px; grid-column: 1 / -1;">
							<p style="color: #666; font-size: 16px;">${emptyText}</p>
						</div>
					`;
					return;
				}

				const galleryHTML = this.galleryData.map((item, index) => {
					const title = this.currentLanguage === 'english' ? (item.title_en || 'No Title') : (item.title_ta || 'தலைப்பு இல்லை');
					const description = this.currentLanguage === 'english' ? (item.description_en || 'No Description') : (item.description_ta || 'விளக்கம் இல்லை');

					console.log(`Rendering item ${index}:`, { title, description, image: item.image, link: item.link });

					// Determine CSS classes for grid layout
					let classes = 'isotopeElement post_format_standard hover_Dir';
					if (index % 3 === 0) classes += ' odd';
					if (index % 3 === 1) classes += ' even';
					if (index === this.galleryData.length - 1) classes += ' last';

					// Add filter classes (you can customize these based on your needs)
					classes += ` flt_${71 + (index % 4)}`;

					return `
						<article class="${classes}">
							<div class="hover hoverDirShow">
								<div class="thumb">
									<img alt="${title}" src="${item.image}" style="width: 100%; height: auto; object-fit: cover;" crossorigin="anonymous" onload="console.log('Image loaded successfully:', '${item.image}')" onerror="console.error('Image failed to load:', '${item.image}'); this.src='images/gallery/1.jpg';">
								</div>
								<div class="folioShowBlock">
									<div class="folioContentAfter">
										<h4>
											<a href="${item.link || '#'}" title="${title}" target="_blank" rel="noopener noreferrer" style="cursor: pointer; color: inherit; text-decoration: none;" onclick="console.log('Link clicked:', '${item.link || '#'}')">
												${title}
											</a>
										</h4>
										<p>${description}</p>
									</div>
								</div>
							</div>
						</article>
					`;
				}).join('');

				this.galleryContainer.innerHTML = galleryHTML;
				console.log('Gallery HTML inserted:', galleryHTML.substring(0, 200) + '...');
				console.log('Gallery container after insertion:', this.galleryContainer);

				// Re-initialize any gallery plugins if needed
				this.initializeGalleryPlugins();
			}

			initializeGalleryPlugins() {
				// Re-initialize isotope if available
				if (typeof $.fn.isotope !== 'undefined') {
					$('.portfolio').isotope({
						itemSelector: '.isotopeElement',
						layoutMode: 'masonry'
					});
				}

				// Initialize simple hover effects with CSS transitions
				this.initializeHoverEffects();
			}

			initializeHoverEffects() {
				// Remove the display: none rule and replace with visibility-based approach
				const style = document.createElement('style');
				style.textContent = `
					/* Override the original display: none rule */
					.portfolio .isotopeElement .hoverDirShow .folioShowBlock {
						display: block !important;
						visibility: visible !important;
						opacity: 0 !important;
						transform: translateY(20px) !important;
						transition: all 0.3s ease !important;
						pointer-events: none !important;
					}

					.portfolio .isotopeElement:hover .hoverDirShow .folioShowBlock {
						opacity: 1 !important;
						transform: translateY(0) !important;
						pointer-events: auto !important;
					}
				`;
				document.head.appendChild(style);

				// Also directly modify existing elements and remove any conflicting styles
				setTimeout(() => {
					const folioBlocks = document.querySelectorAll('.portfolio .isotopeElement .hoverDirShow .folioShowBlock');
					folioBlocks.forEach(block => {
						// Remove any existing display/visibility styles that might conflict
						block.style.removeProperty('display');
						block.style.removeProperty('visibility');

						// Apply our styles
						block.style.display = 'block';
						block.style.visibility = 'visible';
						block.style.opacity = '0';
						block.style.transform = 'translateY(20px)';
						block.style.transition = 'all 0.3s ease';
						block.style.pointerEvents = 'none';
					});
				}, 100);
			}

			setupLanguageChangeListener() {
				// Listen for language changes from the translation toggle
				const checkLanguageAndUpdate = () => {
					const savedLanguage = localStorage.getItem('preferredLanguage') || 'tamil';
					if (savedLanguage !== this.currentLanguage) {
						this.currentLanguage = savedLanguage;
						console.log('Language changed to:', this.currentLanguage);
						// Re-render the entire gallery with new language
						if (this.galleryData.length > 0) {
							this.renderGallery();
						}
					}
				};

				// Check language periodically (more reliable than trying to hook into prototype)
				setInterval(checkLanguageAndUpdate, 300);

				// Also listen for storage changes (in case language is changed in another tab)
				window.addEventListener('storage', (e) => {
					if (e.key === 'preferredLanguage') {
						this.currentLanguage = e.newValue || 'tamil';
						console.log('Language changed via storage to:', this.currentLanguage);
						// Re-render the entire gallery with new language
						if (this.galleryData.length > 0) {
							this.renderGallery();
						}
					}
				});

				// Initial check
				setTimeout(checkLanguageAndUpdate, 500);
			}

			updateGalleryTitles() {
				console.log('Updating gallery titles to language:', this.currentLanguage);
				const galleryItems = this.galleryContainer.querySelectorAll('.isotopeElement');

				galleryItems.forEach((item, index) => {
					if (this.galleryData[index]) {
						const data = this.galleryData[index];
						const title = this.currentLanguage === 'english' ? (data.title_en || 'No Title') : (data.title_ta || 'தலைப்பு இல்லை');
						const description = this.currentLanguage === 'english' ? (data.description_en || 'No Description') : (data.description_ta || 'விளக்கம் இல்லை');

						// Update title link text and attributes
						const titleElement = item.querySelector('h4 a');
						if (titleElement) {
							titleElement.textContent = title;
							titleElement.setAttribute('title', title); // For hover tooltip
						}

						// Update image alt attribute
						const imgElement = item.querySelector('img');
						if (imgElement) {
							imgElement.setAttribute('alt', title);
						}

						// Update description
						const descElement = item.querySelector('p');
						if (descElement) {
							descElement.textContent = description;
						}

						console.log(`Updated item ${index} title to:`, title);
					}
				});
			}
		}

		// Initialize dynamic gallery when DOM is ready
		document.addEventListener('DOMContentLoaded', function() {
			new DynamicGallery();
		});
	</script>

</body>

</html>
